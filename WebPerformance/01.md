## 数据的网络传输

### 数据的发送 - 数据从主机进入线路
1. 应用程序将要发送的数据写入该进程的内存地址空间（变量赋值）
1. 应用程序通过系统函数库接口（eg: send）向内核发出系统调用，系统内核将数据从用户态内存区复制到由内核维护的一段成为内核缓冲区的内存地址空间中。此空间大小有限，所有这些来自多个进程的数据以队列的形式写入，每块数据有一定的额外记号来标记去向
1. 当数据写入到缓冲区后，内核会通知网卡控制器来取数据，同时CPU转而处理其他进程。网卡控制器收到通知后，便根据网卡驱动信息得到对应内核缓冲区的地址，将要发送的数据复制到网卡的缓冲区中
1. 网卡缓冲区的数据需要发送到线路中，同时释放缓冲区来获取更多要发送的数据
1. 发送时，网卡会使用内部特定的物理装置来生成可以传播的各种信号

### 带宽：数据的发送速度
限制带宽：限制客户端流入路由器转发队列的速度（数据的发送速度）


### 响应时间
数据从服务器到用户端的传输过程中，经过N个交换节点，不断被转发所经历的时间

下载速度：单位时间里从服务器到用户端数据量的多少

- 响应时间 = 发送时间 + 传播时间 + 处理时间
    - 发送时间：数据量/带宽
    - 传播时间：与传播距离相关
    - 处理时间：数据在交换节点中为存储转发而进行的一些必要的处理所花费的时间，主要是数据在缓冲区队列中排队所花的时间
