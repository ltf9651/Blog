## 架构分层

将整体系统拆分为多个层次，每个层次有独立的职责，多个层次协同提供完整的功能

### 分层优势

1. 简化系统设计
1. 复用度提高，提升研发效率
1. 更容易做横向扩展，对压力较大的层次可以单独抽离部署

### 如何分层

#### 阿里巴巴开发手册

1. 终端显示层：各端模板渲染并执行显示的层。当前主要是 Velocity 渲染，JS 渲染， JSP 渲染，移动端展示等。
1. 开放接口层：将 Service 层方法封装成开放接口，同时进行网关安全控制和流量控制等。
1. Web 层：主要是对访问控制进行转发，各类基本参数校验，或者不复用的业务简单处理等。
1. Service 层：业务逻辑层。
1. Manager 层：通用业务处理层。这一层主要有两个作用，其一，可以将原先 Service 层的一些通用能力下沉到这一层，比如与缓存和存储交互策略，中间件的接入；其二，可以在这一层封装对第三方接口的调用，比如调用支付服务，调用审核服务等。
1. DAO 层：数据访问层，与底层 MySQL、Oracle、Hbase 等进行数据交互。
1. 外部接口或第三方平台：包括其它部门 RPC 开放接口，基础平台，其它公司的 HTTP 接口

层次之间只有相邻层相互依赖，数据的流转也只能在相邻两层之间流转

### 分层的缺点

1. 增加代码复杂度
1. 性能损耗
