## Pod

Pod 是 Kubernetes 项目中最小的 API 对象（原子调度单位）

容器的“单进程模型“：容器里的 PID=1 的进程就是应用本身，其他进程都是这个 PID=1 进程的子进程，容器没有管理多个进程的能力

K8s 的调度器统一按照 Pod 而非容器的资源需求进行计算

### Pod 实现原理

Pod 只是一个**逻辑概念**，K8s 真正处理的还是宿主机 Linux 的 Namespace 和 Cgroups

Pod 是一组共享了某些资源的容器，Pod 里的所有容器共享同一个 Network Namespace，并且可以生命共享同一个 Volume（数据卷）

Pod 的实现需要使用一个中间容器（Infra），在 Pod 中 Infra 容器永远都是第一个被创建，而其他用户定义的容器通过 Join Network Namespace 的方式与 Infra 容器关联在一起

Pod 里的容器
  - 可以直接使用 localhost 进行通信
  - 看到的网络设备和 Infra 容器看到的一样
  - 一个 Pod 只有一个 IP 地址，即该 Pod 的 Network Namespace 对应的 IP
  - 其他的所有网络资源都是一个 Pod 一份，并且被该 Pod 中的所有容器共享
  - Pod 的生命周期只跟 Infra 容器一致，而与 Pod 里的容器无关
