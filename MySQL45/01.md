## 01 | 基础架构：一条SQL查询语句是如何执行的？
![基础架构](https://static001.geekbang.org/resource/image/0d/d9/0d2070e8f84c4801adbfa03bda1f98d9.png)

大体来说，MySQL 可以分为 Server 层和存储引擎层两部分。

  - Server层：包括连接器、查询缓存、分析器、优化器、执行器等
    - 连接器：负责跟客户端建立连接、获取权限、维持和管理连接
    - 查询缓存：查询缓存的失效非常频繁，只要有对一个表的更新，这个表上所有的查询缓存都会被清空，对于更新压力大的数据库来说，查询缓存的命中率会非常低(**MySQL8.0之后不再有查询缓存功能**)
    - 分析器：词法分析、语法分析
    - 优化器：优化器是在表里面有多个索引的时候，决定使用哪个索引；或者在一个语句有多表关联（join）的时候，决定各个表的连接顺序
    - 执行器：权限验证、执行计划 
  - 存储引擎层：负责数据的存储和提取